<!doctype html>
<html lang="ar">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Ø§Ù„ÙØ®Ù€Ù€....â¦Ù€Ù…  ğ–¤DARiUSğ–¤</title>
<meta name="theme-color" content="#0f1a49"/>
<style>
  :root{
    --bg-dark:#071033;
    --bg-mid:#0f1a49;
    --card:#fff;
    --gold:#d6b120;
    --accent:#23388f;
    --muted:#6b6b6b;
    --text-dark:#08102a;
    --radius:12px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:"Noto Naskh Arabic", "Segoe UI", Tahoma, sans-serif;direction:rtl;background:linear-gradient(180deg,var(--bg-mid),var(--bg-dark));color:#fff}
  .app{max-width:980px;margin:0 auto;min-height:100vh;display:flex;flex-direction:column}
  .splash{padding:36px 18px;text-align:center}
  .logo{width:130px;height:130px;margin:0 auto;border-radius:16px;background:linear-gradient(135deg,var(--gold),#ffd966);display:flex;align-items:center;justify-content:center;color:var(--text-dark);box-shadow:0 10px 30px rgba(0,0,0,.45)}
  .logo h1{margin:0;font-size:26px;color:var(--text-dark);letter-spacing:1px}
  .title{font-size:20px;margin-top:14px;color:var(--gold);font-weight:800;line-height:1.1}
  .subtitle{margin-top:8px;color:#f7f7f7;opacity:.95}
  .main{padding:14px}
  .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
  .card{background:var(--card);color:var(--text-dark);border-radius:var(--radius);padding:16px;box-shadow:0 8px 20px rgba(0,0,0,.35);text-align:center;cursor:pointer}
  .card .icon{width:56px;height:56px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;margin-bottom:10px;font-size:24px}
  .card h3{margin:0;font-size:16px}
  .card p{margin:6px 0 0;color:var(--muted);font-size:13px}
  .topbar{display:flex;justify-content:space-between;align-items:center;padding:10px 14px}
  .btn{background:var(--accent);color:#fff;padding:10px 12px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
  .btn.ghost{background:transparent;border:2px solid rgba(255,255,255,.08)}
  .lang-toggle{background:#fff;color:var(--text-dark);padding:6px 10px;border-radius:8px;font-weight:700;cursor:pointer}
  .controls{display:flex;gap:10px;align-items:center}
  input,select,textarea{width:100%;padding:10px;border-radius:8px;border:0;background:#f5f5f5;color:var(--text-dark)}
  .modal-back{position:fixed;inset:0;background:rgba(2,6,22,.6);display:none;align-items:center;justify-content:center;z-index:60;padding:20px}
  .modal{width:100%;max-width:720px;background:var(--card);color:var(--text-dark);border-radius:12px;padding:18px;box-shadow:0 12px 40px rgba(0,0,0,.6);max-height:90vh;overflow:auto}
  .hidden{display:none}
  footer{padding:18px;text-align:center;color:#ddd;font-size:13px}
  .row{display:flex;gap:8px;align-items:center}
  .small{font-size:13px;color:var(--muted)}
  .theme-toggle{background:transparent;border:2px solid rgba(255,255,255,.12);color:#fff;padding:6px 10px;border-radius:8px;cursor:pointer}
  .rating-stars{font-size:20px;cursor:pointer}
  .badge{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(0,0,0,.06);color:var(--text-dark);font-weight:700}
  @media(min-width:760px){.grid{grid-template-columns:repeat(3,1fr)} .logo{width:150px;height:150px}}
  a{color:var(--accent);text-decoration:none}
  .link-box{background:linear-gradient(90deg,#fff,#fff);padding:10px;border-radius:8px}
  .light-theme{ --bg-dark:#f4f6fb; --bg-mid:#eef3ff; --card:#fff; --accent:#0b3b91; --text-dark:#0b1742; color:#0b1742 }
  .light-theme body{color:var(--text-dark)}
</style>
</head>
<body>
<div class="app" id="app">
  <div class="splash" id="splash">
    <div class="logo"><h1>ğŸ“˜</h1></div>
    <div class="title" id="appName">Ø§Ù„ÙØ®Ù€Ù€....â¦Ù€Ù…  ğ–¤DARiUSğ–¤</div>
    <div class="subtitle" id="tagline">Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„ØªÙÙˆÙ‚ ÙˆØ§Ù„Ø¥Ø¨Ø¯Ø§Ø¹</div>
    <div style="margin-top:18px">
      <button class="btn" onclick="showModal( auth )">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</button>
      <button class="btn ghost" onclick="showModal( dev )">Ù‚Ø³Ù… Ø§Ù„Ù…Ø·ÙˆØ±</button>
    </div>
    <div style="margin-top:10px">
      <span class="lang-toggle" id="langToggle" onclick="toggleLang()">EN / Ø¹Ø±Ø¨ÙŠ</span>
      <button class="theme-toggle" onclick="toggleTheme()" style="margin-left:10px">Ø«ÙŠÙ…</button>
    </div>
    <div style="margin-top:12px;color:#e9e9e9;font-size:13px">Powered by King Ali Aljabri</div>
  </div>

  <div id="ui" class="hidden">
    <div class="topbar">
      <div style="display:flex;align-items:center;gap:12px">
        <button class="btn ghost" onclick="goHome()">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        <div style="font-weight:800;color:var(--gold)" id="sectionTitle">Ù‚Ø³Ù… Ø§Ù„Ø·Ù„Ø§Ø¨</div>
      </div>
      <div class="controls">
        <div class="small" id="userBadge"></div>
        <button class="btn" onclick="openContact()">ØªÙˆØ§ØµÙ„</button>
        <button class="btn ghost" id="logoutBtn" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
      </div>
    </div>

    <div class="main" id="mainContent">
      <div class="grid" id="studentsGrid"></div>

      <hr style="border:0;height:1px;background:rgba(255,255,255,.06);margin:18px 0">

      <div style="display:flex;justify-content:space-between;align-items:center">
        <div style="font-weight:800;color:var(--gold);margin-bottom:10px" id="quickTitle">Ù…Ø«Ø¨ØªØ§Øª Ø³Ø±ÙŠØ¹Ø©</div>
        <div class="row">
          <div class="small">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:</div>
          <div id="rating" class="rating-stars">â˜…â˜…â˜…â˜…â˜…</div>
        </div>
      </div>

      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
        <button class="btn ghost" onclick="openSection( teachers )">Ù‚Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†</button>
        <button class="btn ghost" onclick="openSection( smart )">Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ</button>
        <button class="btn ghost" onclick="openSection( books )">Ø§Ù„ÙƒØªØ¨ ÙˆØ§Ù„Ø±ÙˆØ§ÙŠØ§Øª</button>
        <button class="btn ghost" onclick="openSection( fun )">Ø§Ù„ØªØ±ÙÙŠÙ‡</button>
      </div>

    </div>

    <footer>
      <div id="footerText">By King Ali Aljabri â€“ Designed with Royal Vision ğŸ‘‘</div>
    </footer>
  </div>
</div>

<!-- AUTH MODAL -->
<div class="modal-back" id="modal-auth">
  <div class="modal">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong id="authTitle">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</strong>
      <button class="btn ghost" onclick="closeModal( auth )">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>

    <div id="authForms" style="margin-top:12px">
      <div id="loginForm">
        <input id="loginEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" type="email" />
        <input id="loginPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" type="password" style="margin-top:8px"/>
        <div style="display:flex;gap:8px;margin-top:10px">
          <button class="btn" onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
          <button class="btn ghost" onclick="showRegister()">Ø§Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
        </div>
      </div>

      <div id="registerForm" class="hidden">
        <input id="regName" placeholder="Ø§Ù„Ø§Ø³Ù… (Ù…Ø«Ø§Ù„: Ø¹Ù„ÙŠ)" style="margin-top:8px"/>
        <input id="regEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" type="email" style="margin-top:8px"/>
        <input id="regPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)" type="password" style="margin-top:8px"/>
        <div style="display:flex;gap:8px;margin-top:10px">
          <button class="btn" onclick="register()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
          <button class="btn ghost" onclick="showLogin()">Ø±Ø¬ÙˆØ¹</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- CONTACT MODAL -->
<div class="modal-back" id="modal-contact">
  <div class="modal">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong>ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø·ÙˆØ±</strong>
      <button class="btn ghost" onclick="closeModal( contact )">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
    <div style="margin-top:12px">
      <p>ÙˆØ§ØªØ³Ø§Ø¨: <a id="waLink" href="https://wa.me/967734574741" target="_blank">+967734574741</a></p>
      <p>ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…: <a id="tgLink" href="https://t.me/BQQQQ3" target="_blank">@BQQQQ3</a></p>
      <p>Ø§Ù„Ø¨Ø±ÙŠØ¯: <span id="emailText">alloush1185@gmail.com</span></p>
      <div style="margin-top:12px">
        <button class="btn" onclick="copyContact()">Ø§Ù†Ø³Ø® Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
      </div>
    </div>
  </div>
</div>

<!-- DEV MODAL -->
<div class="modal-back" id="modal-dev">
  <div class="modal">
    <h3>Developer Zone (Ø³Ø±ÙŠ)</h3>
    <p class="small">Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (Ø®Ø§Øµ Ø¨Ø§Ù„Ù…Ø·ÙˆØ±).</p>
    <input id="devPass" placeholder="ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø·ÙˆØ±"/>
    <div style="display:flex;gap:8px;margin-top:10px">
      <button class="btn" onclick="devLogin()">Ø¯Ø®ÙˆÙ„</button>
      <button class="btn ghost" onclick="closeModal( dev )">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>

    <div id="devTools" class="hidden" style="margin-top:12px">
      <label>Ø£Ø¶Ù Ø±Ø§Ø¨Ø· ÙƒØªØ§Ø¨/Ù…Ù‚Ø§Ù„ (Ù…Ø«Ø§Ù„ PDF)</label>
      <input id="newTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù†ØµØ±" style="margin-top:8px"/>
      <input id="newLink" placeholder="https://..." style="margin-top:8px"/>
      <div style="display:flex;gap:8px;margin-top:8px">
        <button class="btn" onclick="addDevItem()">Ø£Ø¶Ù</button>
        <button class="btn ghost" onclick="logoutDev()">Ø®Ø±ÙˆØ¬</button>
      </div>
      <hr style="margin-top:12px"/>
      <div>
        <label class="small">Ø¹Ù†Ø§ØµØ± Ù…Ø·ÙˆØ± Ù…Ø¶Ø§ÙØ© Ù…Ø¤Ù‚ØªÙ‹Ø§:</label>
        <div id="devList" style="max-height:200px;overflow:auto;margin-top:8px"></div>
      </div>
    </div>
  </div>
</div>

<!-- SIMPLE PAGE PLACEHOLDER -->
<div class="modal-back" id="modal-page">
  <div class="modal" id="pageContent">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong id="pageTitle">Ø¹Ù†ÙˆØ§Ù†</strong>
      <button class="btn ghost" onclick="closeModal( page )">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
    <div id="pageBody" style="margin-top:12px"></div>
  </div>
</div>

<script>
/* CONFIG */
const DEV_PASS =  alloush ;
const LINKS = {
  archive:  https://archive.org/details/texts ,
  gutenberg:  https://www.gutenberg.org/ ,
  googlebooks:  https://books.google.com/ ,
  gutenberg_ar:  https://www.gutenberg.org/browse/languages/ar 
};

/* UTIL */
function $(id){return document.getElementById(id)}
function showModal(name){ $( modal- +name).style.display= flex  }
function closeModal(name){ $( modal- +name).style.display= none  }
function toggleLang(){ window.lang = (window.lang=== en )?  ar : en ; renderAll(); }
function toggleTheme(){ document.documentElement.classList.toggle( light-theme ) }
function copyContact(){ navigator.clipboard.writeText( WhatsApp: +967734574741\\nTelegram: @BQQQQ3\\nEmail: alloush1185@gmail.com ).then(()=>alertMsg( ØªÙ… Ù†Ø³Ø® Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ )) }

/* AUTH - localStorage */
function usersKey(){ return  ka_users_v1  }
function currentKey(){ return  ka_current_v1  }
function loadUsers(){ try{ return JSON.parse(localStorage.getItem(usersKey())) || {} }catch(e){return {}} }
function saveUsers(u){ localStorage.setItem(usersKey(), JSON.stringify(u)) }
function setCurrent(email){ localStorage.setItem(currentKey(), email) }
function getCurrent(){ return localStorage.getItem(currentKey()) }
function logout(){ localStorage.removeItem(currentKey()); renderAll(); showLoginModal(); }

/* Alerts */
function alertMsg(t){ alert(t) }

/* AUTH UI */
function showLoginModal(){ showModal( auth ); $( loginForm ).classList.remove( hidden ); $( registerForm ).classList.add( hidden ); $( authTitle ).innerText= ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨  }
function showRegister(){ $( loginForm ).classList.add( hidden ); $( registerForm ).classList.remove( hidden ); $( authTitle ).innerText= Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯  }
function showLogin(){ $( loginForm ).classList.remove( hidden ); $( registerForm ).classList.add( hidden ); $( authTitle ).innerText= ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨  }

function register(){
  const name = $( regName ).value.trim();
  const email = $( regEmail ).value.trim().toLowerCase();
  const pass = $( regPass ).value;
  if(!name || !email || !pass){ alertMsg( Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ); return }
  if(pass.length<6){ alertMsg( ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ ); return }
  const users = loadUsers();
  if(users[email]){ alertMsg( Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ø³Ø¬Ù„ Ø³Ø§Ø¨Ù‚Ù‹Ø§ ); return }
  users[email] = {name, email, pass, points:0, rating:0};
  saveUsers(users);
  setCurrent(email);
  closeModal( auth );
  renderAll();
  alertMsg( ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­ );
}

function login(){
  const email = $( loginEmail ).value.trim().toLowerCase();
  const pass = $( loginPass ).value;
  if(!email || !pass){ alertMsg( Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ ÙˆØ§Ù„ÙƒÙ„Ù…Ø© ); return }
  const users = loadUsers();
  if(users[email] && users[email].pass === pass){
    setCurrent(email);
    closeModal( auth );
    renderAll();
    alertMsg( ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ );
  } else alertMsg( Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø© );
}

/* RENDER */
window.lang =  ar ;
let devAdded = JSON.parse(localStorage.getItem( ka_dev_added_v1 )|| [] );

function currentUserObj(){
  const cur = getCurrent(); if(!cur) return null;
  const users = loadUsers(); return users[cur] || null;
}

function renderAll(){
  const u = currentUserObj();
  if(u){
    $( userBadge ).innerHTML = `<span class="badge">${u.name}</span>`;
    $( logoutBtn ).style.display= inline-block ;
  } else { $( userBadge ).innerHTML=  ; $( logoutBtn ).style.display= none  }
  renderStudents();
  renderRating();
}

const studentsItems = [
  {id: translate , title:{ar: ØªØ±Ø¬Ù…Ø© ÙÙˆØ±ÙŠØ© ,en: Instant Translate }, desc:{ar: ØªØ±Ø¬Ù…Ø© Ù†ØµÙˆØµ ÙÙˆØ±Ø§Ù‹ ,en: Translate texts }, icon: ğŸŒ , url: https://translate.google.com },
  {id: improve , title:{ar: ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ,en: Improve English }, desc:{ar: ØªÙ…Ø§Ø±ÙŠÙ† ÙŠÙˆÙ…ÙŠØ© ,en: Daily practice }, icon: ğŸ“˜ , url: https://www.duolingo.com },
  {id: qna , title:{ar: Ø£Ø³Ø¦Ù„Ø© ÙˆØªÙ…Ø§Ø±ÙŠÙ† ,en: Questions & Exercises }, desc:{ar: Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù‚ØµÙŠØ±Ø© ,en: Short quizzes }, icon: â“ },
  {id: books , title:{ar: Ø§Ù„ÙƒØªØ¨ ÙˆØ§Ù„Ø±ÙˆØ§ÙŠØ§Øª ,en: Books & Novels }, desc:{ar: PDF ÙˆÙ…ØµØ§Ø¯Ø± Ù…ÙˆØ«ÙˆÙ‚Ø© ,en: PDFs & Sources }, icon: ğŸ“š },
  {id: poems , title:{ar: Ø£Ø´Ø¹Ø§Ø± Ø«Ù‚Ø§ÙÙŠØ© ,en: Cultural Poems }, desc:{ar: Ù…Ù‚Ø§Ø·Ø¹ Ø´Ø¹Ø±ÙŠØ© Ù‚ØµÙŠØ±Ø© ,en: Short poems }, icon: ğŸ“ },
  {id: fun , title:{ar: Ø±ÙƒÙ† Ø§Ù„ØªØ±ÙÙŠÙ‡ ,en: Fun Corner }, desc:{ar: Ù†ÙƒØª ÙˆØ£Ù„Ø¹Ø§Ø¨ Ø°Ù‡Ù†ÙŠØ© ,en: Jokes & brain games }, icon: ğŸ˜„ }
];

function renderStudents(){
  const grid = $( studentsGrid ); grid.innerHTML=  ;
  const arr = studentsItems.concat(devAdded);
  arr.forEach(it=>{
    const el = document.createElement( div ); el.className= card ;
    const title = (typeof it.title=== string )? it.title : it.title[window.lang] || it.title.ar;
    const desc = (typeof it.desc=== string )? it.desc : it.desc[window.lang] || it.desc.ar;
    el.innerHTML = `<div class="icon">${it.icon ||  ğŸ“„ }</div><h3>${title}</h3><p>${desc}</p>`;
    el.onclick = ()=>{ if(it.url) openUrl(it.url); else openSection(it.id); };
    grid.appendChild(el);
  });
}

/* OPEN SECTIONS */
function openUrl(u){ window.open(u, _blank ) }
function openSection(name){
  const title = (window.lang=== ar )? sectionTitleArabic(name) : sectionTitleEnglish(name);
  const body = getSectionHtml(name);
  $( pageTitle ).innerText = title;
  $( pageBody ).innerHTML = body;
  showModal( page );
}
function sectionTitleArabic(key){
  if(key=== books ) return  Ø§Ù„ÙƒØªØ¨ ÙˆØ§Ù„Ø±ÙˆØ§ÙŠØ§Øª ;
  if(key=== fun ) return  Ø§Ù„ØªØ±ÙÙŠÙ‡ ;
  if(key=== teachers ) return  Ù‚Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† ;
  if(key=== smart ) return  Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ ;
  if(key=== qna ) return  Ø£Ø³Ø¦Ù„Ø© ÙˆØªÙ…Ø§Ø±ÙŠÙ† ;
  return  Ø§Ù„Ù‚Ø³Ù… ;
}
function sectionTitleEnglish(key){
  if(key=== books ) return  Books & Novels ;
  if(key=== fun ) return  Fun Corner ;
  if(key=== teachers ) return  Teachers ;
  if(key=== smart ) return  Smart Education ;
  if(key=== qna ) return  Questions & Exercises ;
  return  Section ;
}
function getSectionHtml(name){
  if(name=== books ){
    return `<div>
      <p>${window.lang=== ar ? Ù…ØµØ§Ø¯Ø± Ù…ÙˆØ«ÙˆÙ‚Ø© Ù„Ù„ÙƒØªØ¨ ÙˆØ§Ù„Ø±ÙˆØ§ÙŠØ§Øª (Ø§ÙØªØ­ Ù„ØªØ­Ù…ÙŠÙ„/Ù‚Ø±Ø§Ø¡Ø©): : Trusted book sources (open to read/download): }</p>
      <ul>
        <li><a href="${LINKS.archive}" target="_blank">Internet Archive</a></li>
        <li><a href="${LINKS.gutenberg}" target="_blank">Project Gutenberg</a></li>
        <li><a href="${LINKS.gutenberg_ar}" target="_blank">Gutenberg - Arabic</a></li>
        <li><a href="${LINKS.googlebooks}" target="_blank">Google Books</a></li>
      </ul>
      <p class="small">${window.lang=== ar ? ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø±ÙˆØ§Ø¨Ø· Ø®Ø§ØµØ© Ø¹Ø¨Ø± Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø·ÙˆØ± : You can add private links via Developer Zone }</p>
    </div>`;
  }
  if(name=== fun ){
    return `<div><h3>${window.lang=== ar ? Ù†ÙƒØª ÙˆØªØ³Ø§Ù„ÙŠ : Jokes & Fun }</h3>
      <ul>
        <li>Ù†ÙƒØªØ©: Ø§Ù„Ù…Ø¯Ø±Ø³ Ù‚Ø§Ù„ Ù„Ù„Ø·Ø§Ù„Ø¨... (Ù…Ø«Ø§Ù„)</li>
        <li>ØªØ­Ø¯ÙŠ Ø°Ù‡Ù†ÙŠ: Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ ÙŠÙ…Ø´ÙŠ Ø¨Ù„Ø§ Ù‚Ø¯Ù…ÙŠÙ†ØŸ</li>
      </ul>
      <h3>${window.lang=== ar ? Ù‚ØµØµ Ù†Ø¬Ø§Ø­ : Success Stories }</h3>
      <p>${window.lang=== ar ? Ù‚ØµØ©: Ø·Ø§Ù„Ø¨ ØªØºÙ„Ø¨ Ø¹Ù„Ù‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø§Øª ÙˆÙ†Ø¬Ø­ Ø¨Ø§Ù„Ù…Ø«Ø§Ø¨Ø±Ø©.  :  A student overcame challenges and succeeded through persistence. }</p>
    </div>`;
  }
  if(name=== teachers ){
    return `<div>
      <h3>${window.lang=== ar ? ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø¯Ø±ÙˆØ³ ÙˆØ®Ø·Ø· : Lesson Prep & Plans }</h3>
      <p>${window.lang=== ar ? Ù‚ÙˆØ§Ù„Ø¨ Ø¬Ø§Ù‡Ø²Ø© Ù„ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø¯Ø±ÙˆØ³ ÙˆØ®Ø·Ø· Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© ÙˆØ£Ù†Ø´Ø·Ø©.  :  Templates for prep, weekly plans and activities. }</p>
    </div>`;
  }
  if(name=== smart ){
    return `<div>
      <h3>${window.lang=== ar ? Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ - EduBot : Smart Education - EduBot }</h3>
      <p>${window.lang=== ar ? Ø§Ø³Ø£Ù„ Ø§Ù„Ù…Ø¯Ø±Ø³ Ø§Ù„Ø°ÙƒÙŠ: Ø£ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ ÙˆØ³ÙŠØªÙ… Ø¥Ø¹Ø·Ø§Ø¡ Ù…Ù„Ø®Øµ Ø£Ùˆ ØªÙˆØ¬ÙŠÙ‡.  :  Ask the EduBot: type a question to get a summary or guidance. }</p>
      <div style="margin-top:8px">
        <input id="eduQuery" placeholder="${window.lang=== ar ? Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§... : Type your question... }"/>
        <div style="margin-top:8px"><button class="btn" onclick="eduAnswer()">Ø§Ø³Ø£Ù„ Ø§Ù„Ù…Ø¯Ø±Ø³ Ø§Ù„Ø°ÙƒÙŠ</button></div>
        <div id="eduAnswer" style="margin-top:12px"></div>
      </div>
    </div>`;
  }
  if(name=== qna ){
    return `<div><p>${window.lang=== ar ? Ù…Ø¬Ù…ÙˆØ¹Ø© Ø£Ø³Ø¦Ù„Ø© ÙˆØªÙ…Ø§Ø±ÙŠÙ† Ù‚Ø±ÙŠØ¨Ø© Ø§Ù„Ø¥Ø¶Ø§ÙØ©.  :  Questions & exercises coming soon. }</p></div>`;
  }
  return `<div><p>${window.lang=== ar ? Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯.  :  Content is being prepared. }</p></div>`;
}

/* EDUBOT - simple summarizer (local keyword split) */
function eduAnswer(){
  const q = $( eduQuery ).value.trim();
  if(!q){ alertMsg(window.lang=== ar ? Ø§ÙƒØªØ¨ Ø§Ù„Ø³Ø¤Ø§Ù„ : Type the question ); return }
  // simple heuristic summary emulation
  let ans =  Ø£Ø¹Ø¯ ØµÙŠØ§ØºØ© Ø§Ù„Ø³Ø¤Ø§Ù„ Ù„ØªÙ„Ø®ÙŠØµÙ‡ Ø£Ùˆ Ø¶Ø¹ ÙƒÙ„Ù…Ø§Øª Ù…ÙØªØ§Ø­ÙŠØ©. ;
  if(q.length>40) ans = q.split( . ).slice(0,2).join( .  ) + (q.includes( . )? . :  );
  else ans =  Ù†Ù‚Ø·Ø© Ø±Ø¦ÙŠØ³ÙŠØ©:   + q +  . Ù†ØµÙŠØ­Ø©: Ù‚Ù… Ø¨ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ù…Ø§Ø¯Ø© Ø¥Ù„Ù‰ Ù†Ù‚Ø§Ø· Ù‚ØµÙŠØ±Ø©. ;
  $( eduAnswer ).innerText = ans;
}

/* DEVELOPER ZONE */
function devLogin(){
  const p = $( devPass ).value.trim();
  if(p===DEV_PASS){ $( devTools ).classList.remove( hidden ); $( devPass ).value=  ; renderDevList(); alertMsg( ØªÙ… Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒÙ…Ø·ÙˆØ± ); }
  else alertMsg( ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø© );
}
function logoutDev(){ $( devTools ).classList.add( hidden ); alertMsg( ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ ); }
function addDevItem(){
  const title = $( newTitle ).value.trim(); const url = $( newLink ).value.trim();
  if(!title || !url){ alertMsg( Ø£ÙƒÙ…Ù„ Ø§Ù„Ø­Ù‚ÙˆÙ„ ); return }
  const item = {id: dev_ +Date.now(), title:{ar:title,en:title}, desc:{ar: Ù…Ø­ØªÙˆÙ‰ Ù…Ø¶Ø§Ù Ù…Ù† Ø§Ù„Ù…Ø·ÙˆØ± ,en: Developer added }, icon: ğŸ“„ , url};
  devAdded.unshift(item); localStorage.setItem( ka_dev_added_v1 , JSON.stringify(devAdded));
  $( newTitle ).value=  ; $( newLink ).value=  ;
  renderDevList(); renderStudents(); alertMsg( ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© );
}
function renderDevList(){
  const dv = $( devList ); dv.innerHTML=  ;
  if(devAdded.length===0){ dv.innerHTML = `<small class="small">${window.lang=== ar ? Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± : No items }</small>`; return }
  devAdded.forEach(it=>{
    const d = document.createElement( div ); d.style.padding= 8px ; d.style.borderBottom= 1px solid #eee ;
    d.innerHTML = `<strong>${it.title.ar}</strong><div style="font-size:12px;color:#444">${it.url}</div><div style="margin-top:6px"><button class="btn" onclick="removeDevItem( ${it.id} )">Ø­Ø°Ù</button></div>`;
    dv.appendChild(d);
  });
}
function removeDevItem(id){ devAdded = devAdded.filter(i=>i.id!==id); localStorage.setItem( ka_dev_added_v1 , JSON.stringify(devAdded)); renderDevList(); renderStudents(); }

/* RATING */
function renderRating(){
  const saved = JSON.parse(localStorage.getItem( ka_rating_v1 )|| {"count":0,"sum":0} );
  const avg = saved.count? Math.round((saved.sum/saved.count)) : 5;
  const stars =  â˜…â˜…â˜…â˜…â˜… .slice(0,avg) +  â˜†â˜†â˜†â˜†â˜† .slice(0,5-avg);
  $( rating ).innerText = stars;
  $( rating ).onclick = ()=>{ const r = prompt(window.lang=== ar ? Ù‚ÙŠÙ‘Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ù† 1 Ø¥Ù„Ù‰ 5 : Rate 1-5 ); const n = parseInt(r); if(n>=1 && n<=5){ saved.count++; saved.sum+=n; localStorage.setItem( ka_rating_v1 , JSON.stringify(saved)); alertMsg(window.lang=== ar ? Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚ÙŠÙŠÙ…Ùƒ : Thanks for rating ); renderRating(); } else alertMsg(window.lang=== ar ? Ù‚ÙŠÙ…Ø© Ø®Ø§Ø·Ø¦Ø© : Invalid value ) }
}

/* BOOT & HELPERS */
function goHome(){ $( modal-auth ).style.display= none ; $( modal-page ).style.display= none ; $( splash ).style.display= none ; $( ui ).classList.remove( hidden ); $( sectionTitle ).innerText = (window.lang=== ar ) ?  Ù‚Ø³Ù… Ø§Ù„Ø·Ù„Ø§Ø¨  :  Students ; renderAll(); }
function showPage(title, html){ $( pageTitle ).innerText=title; $( pageBody ).innerHTML=html; showModal( page ) }

window.addEventListener( load , ()=>{ renderAll(); if(getCurrent()){ goHome(); } else { $( splash ).style.display= block ; $( ui ).classList.add( hidden ); } });
</script>
</body>
  </html>
          
